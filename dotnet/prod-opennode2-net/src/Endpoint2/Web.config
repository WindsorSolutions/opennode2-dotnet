<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <!-- Config Sections -->
    <configSections>
        <!-- WSE -->
        <section name="microsoft.web.services3" type="Microsoft.Web.Services3.Configuration.WebServicesConfiguration, Microsoft.Web.Services3, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
        <!-- Spring -->
        <sectionGroup name="spring">
            <section name="context" type="Spring.Context.Support.WebContextHandler, Spring.Web"/>
            <section name="objects" type="Spring.Context.Support.DefaultSectionHandler, Spring.Core"/>
            <section name="parsers" type="Spring.Context.Support.NamespaceParsersSectionHandler, Spring.Core"/>
        </sectionGroup>
        <!-- Common -->
        <sectionGroup name="common">
            <section name="logging" type="Common.Logging.ConfigurationSectionHandler, Common.Logging"/>
        </sectionGroup>
        <!-- Log4N -->
        <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net"/>
        <sectionGroup name="system.web.extensions" type="System.Web.Configuration.SystemWebExtensionsSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
            <sectionGroup name="scripting" type="System.Web.Configuration.ScriptingSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
                <section name="scriptResourceHandler" type="System.Web.Configuration.ScriptingScriptResourceHandlerSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                <sectionGroup name="webServices" type="System.Web.Configuration.ScriptingWebServicesSectionGroup, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35">
                    <section name="jsonSerialization" type="System.Web.Configuration.ScriptingJsonSerializationSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="Everywhere"/>
                    <section name="profileService" type="System.Web.Configuration.ScriptingProfileServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                    <section name="authenticationService" type="System.Web.Configuration.ScriptingAuthenticationServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                    <section name="roleService" type="System.Web.Configuration.ScriptingRoleServiceSection, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" requirePermission="false" allowDefinition="MachineToApplication"/>
                </sectionGroup>
            </sectionGroup>
        </sectionGroup>
    </configSections>
    <!-- Logging -->
    <common>
        <logging>
            <factoryAdapter type="Windsor.Node2008.WNOSUtility.WNOSLoggerFactoryAdapter, Windsor.Node2008.WNOSUtility">
                <arg key="configType" value="FILE"/>
                <arg key="configFile" value="~/../../Config/log4net.config"/>
            </factoryAdapter>
        </logging>
    </common>
    <appSettings>
        <!-- Custom application settings go here. -->
        <add key="ServiceProviderCacheDurationInMinutes" value="20"/>
    </appSettings>
    <!-- Web -->
    <system.web>
        <httpModules>
            <add name="Spring" type="Spring.Context.Support.WebSupportModule, Spring.Web"/>
            <add name="ScriptModule" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        </httpModules>
        <compilation debug="true">
            <assemblies>
                <add assembly="Microsoft.Web.Services3, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
                <add assembly="System.Core, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
                <add assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
                <add assembly="System.Xml.Linq, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
                <add assembly="System.Data.DataSetExtensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>
            </assemblies>
        </compilation>
        <webServices>
            <protocols>
                <clear/>
                <add name="HttpSoap12"/>
                <add name="Documentation"/>
            </protocols>
            <soapExtensionImporterTypes>
                <add type="Microsoft.Web.Services3.Description.WseExtensionImporter, Microsoft.Web.Services3, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
            </soapExtensionImporterTypes>
            <soapServerProtocolFactory type="Microsoft.Web.Services3.WseProtocolFactory, Microsoft.Web.Services3, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"/>
            <conformanceWarnings>
                <remove name="BasicProfile1_1"/>
            </conformanceWarnings>
            <soapExtensionTypes>
                <!--<add type="Windsor.Node2008.WNOSUtility.WebMethodTraceExtension, Windsor.Node2008.WNOSUtility" priority="1" group="High"/>-->
                <!--<add type="Windsor.Node2008.Endpoint2.InsertMissingSoapHeaderExtension, Windsor.Node2008.Endpoint2" priority="1" group="High"/>-->
            </soapExtensionTypes>
        </webServices>
        <httpRuntime maxRequestLength="128000" executionTimeout="3600"/>
        <sessionState mode="Off"/>
        <customErrors mode="Off"/>
        <authentication mode="Windows"/>
        <pages>
            <controls>
                <add tagPrefix="asp" namespace="System.Web.UI" assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
                <add tagPrefix="asp" namespace="System.Web.UI.WebControls" assembly="System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            </controls>
        </pages>
        <httpHandlers>
            <remove verb="*" path="*.asmx"/>
            <add verb="*" path="*.asmx" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add verb="*" path="*_AppService.axd" validate="false" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add verb="GET,HEAD" path="ScriptResource.axd" validate="false" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        </httpHandlers>
    </system.web>
    <microsoft.web.services3>
        <diagnostics>
            <trace enabled="false" input="Soap-Trace-20.webinfo" output="Soap-Trace-20.webinfo"/>
            <detailedErrors enabled="false"/>
        </diagnostics>
        <messaging>
            <mtom clientMode="On" requireSoapEnvelopeFirst="false" serverMode="optional"/>
            <!-- send and receive the largest possible SOAP messages: -->
            <maxMessageLength value="-1"/>
        </messaging>
        <security>
            <timeToleranceInSeconds value="900"/>
        </security>
    </microsoft.web.services3>
    <!-- Spring -->
    <spring>
        <parsers>
            <parser type="Spring.Remoting.Config.RemotingNamespaceParser, Spring.Services"/>
        </parsers>
        <!-- Context -->
        <context>
            <resource uri="config://spring/objects"/>
        </context>
        <!-- Spring Manged Objects -->
        <objects xmlns="http://www.springframework.net">
            <object id="deploymentProperties" type="Windsor.Commons.Spring.ExposablePropertyPaceholderConfigurer, Windsor.Commons.Spring">
                <property name="Location">
                    <value>file://~/../../Config/Deployment.config</value>
                </property>
            </object>
            <import resource="file://~/../../Config/WebServiceExportedServices.config"/>
            <object id="faultProvider" type="Windsor.Node2008.WNOSConnector.Provider.ENFaultProvider, Windsor.Node2008.WNOSConnector" init-method="Init">
                <property name="DefaultErrorCode" value="E_InternalError"/>
                <property name="DefaultErrorDescription" value="Unhandled server exception"/>
            </object>
            <object id="visitProvider" type="Windsor.Node2008.WNOSConnector.Provider.SimpleVisitProvider, Windsor.Node2008.WNOSConnector" init-method="Init">
                <property name="DefaultIp" value="${wne.request.ipdefault}"/>
                <property name="HeaderIPArgument" value="${wne.request.ipholder}"/>
                <property name="DefaultAuthMethod" value="password"/>
                <property name="Version" value="${wne.request.version20}"/>
            </object>
            <object id="serviceProvider" type="Windsor.Node2008.Endpoint2.ENService20Provider, Windsor.Node2008.Endpoint2" init-method="Init">
                <property name="TransactionService" ref="transactionService"/>
                <property name="SecurityService" ref="securityService"/>
                <property name="ContentService" ref="contentService"/>
                <property name="VisitProvider" ref="visitProvider"/>
                <property name="FaultProvider" ref="faultProvider"/>
            </object>
        </objects>
    </spring>
    <system.codedom>
        <compilers>
            <compiler language="c#;cs;csharp" extension=".cs" type="Microsoft.CSharp.CSharpCodeProvider, System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" warningLevel="4">
                <providerOption name="CompilerVersion" value="v3.5"/>
                <providerOption name="WarnAsError" value="false"/>
            </compiler>
        </compilers>
    </system.codedom>
    <system.webServer>
        <validation validateIntegratedModeConfiguration="false"/>
        <modules>
            <add name="Spring" type="Spring.Context.Support.WebSupportModule, Spring.Web"/>
            <remove name="ScriptModule"/>
            <add name="ScriptModule" preCondition="managedHandler" type="System.Web.Handlers.ScriptModule, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        </modules>
        <handlers>
            <remove name="WebServiceHandlerFactory-Integrated"/>
            <remove name="ScriptHandlerFactory"/>
            <remove name="ScriptHandlerFactoryAppServices"/>
            <remove name="ScriptResource"/>
            <add name="ScriptHandlerFactory" verb="*" path="*.asmx" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add name="ScriptHandlerFactoryAppServices" verb="*" path="*_AppService.axd" preCondition="integratedMode" type="System.Web.Script.Services.ScriptHandlerFactory, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
            <add name="ScriptResource" verb="GET,HEAD" path="ScriptResource.axd" preCondition="integratedMode" type="System.Web.Handlers.ScriptResourceHandler, System.Web.Extensions, Version=3.5.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
        </handlers>
        <defaultDocument>
            <files>
                <remove value="default.aspx" />
                <remove value="iisstart.htm" />
                <remove value="index.html" />
                <remove value="index.htm" />
                <remove value="Default.asp" />
                <remove value="Default.htm" />
                <add value="ENService20.asmx" />
            </files>
        </defaultDocument>
    </system.webServer>
    <runtime>
        <assemblyBinding appliesTo="v2.0.50727" xmlns="urn:schemas-microsoft-com:asm.v1">
            <dependentAssembly>
                <assemblyIdentity name="System.Web.Extensions" publicKeyToken="31bf3856ad364e35"/>
                <bindingRedirect oldVersion="1.0.0.0-1.1.0.0" newVersion="3.5.0.0"/>
            </dependentAssembly>
            <dependentAssembly>
                <assemblyIdentity name="System.Web.Extensions.Design" publicKeyToken="31bf3856ad364e35"/>
                <bindingRedirect oldVersion="1.0.0.0-1.1.0.0" newVersion="3.5.0.0"/>
            </dependentAssembly>
        </assemblyBinding>
    </runtime>
</configuration>