<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd" >
<beans>


    <bean id="propertyConfigurer"
        class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="locations">
            <list>
                <value>classpath:helper.properties</value>
                <value>classpath:jdbc.properties</value>
            </list>
        </property>
    </bean>


    <bean id="console" class="com.windsor.node.plugin.common.velocity.ConsoleVelocityHelper">
        <property name="velocityHelper" ref="velocityHelper" />
        <property name="dataSource" ref="dataSource" />
        <property name="outputFile" value="${helper.output}" />
        <property name="templatePath" value="${helper.template}" />
        <property name="helperArgs" value="${helper.args}" />
    </bean>

    <bean id="velocityHelper" class="com.windsor.node.plugin.common.velocity.jdbc.JdbcVelocityHelper" />

    <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource"
        destroy-method="close">

        <property name="driverClassName">
            <value>${jdbc.driverClassName}</value>
        </property>

        <property name="url">
            <value>${jdbc.url}</value>
        </property>

        <property name="username">
            <value>${jdbc.username}</value>
        </property>

        <property name="password">
            <value>${jdbc.password}</value>
        </property>

        <property name="poolPreparedStatements">
            <value>true</value>
        </property>

        <property name="initialSize">
            <value>${jdbc.initialSize}</value>
        </property>

        <property name="maxActive">
            <value>${jdbc.maxActive}</value>
        </property>

        <property name="maxIdle">
            <value>${jdbc.maxIdle}</value>
        </property>
        <property name="testOnBorrow" value="true"/>
        <property name="testOnReturn" value="false"/>
        <property name="testWhileIdle" value="true"/>
        <property name="timeBetweenEvictionRunsMillis" value="10000"/>
        <property name="numTestsPerEvictionRun" value="5"/>
        <property name="minEvictableIdleTimeMillis" value="300000" />
        <property name="validationQuery" value="select count(1) from NAccount"/>
    </bean>




</beans>